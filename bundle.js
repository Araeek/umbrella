(()=>{"use strict";new Headers({"X-Api-Key":"09tYeXCwhiKsMjQY6ME1Rw==sEbRPFDVhcuP3U1R","Content-Type":"application/json"}),async function(e){try{const e=await fetch("https://api.weatherapi.com/v1/forecast.json?q=esfahan&key=2d0f4b140e8f4e0fb9664239232005",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{const t=new Date;var n,o,c,a,s,r,d;console.log(t.getDay()),n=e.location.name,document.querySelector(".city-name").textContent=n,o=e.current.temp_c,document.querySelector(".city-temp").textContent=o+"°",c=e.current.condition.text,document.querySelector(".city-cond").textContent=c,a=e.current.is_day,s=e.current.condition.code,document.querySelector(".weather-icon img").src=`assets/icons/${a?"day":"night"}/${s}.png`,function(e){document.querySelector(".real-feel+.air-info-data").textContent=Math.round(e)+"°"}(e.current.feelslike_c),r=e.current.wind_kph,document.querySelector(".wind+.air-info-data").textContent=`${r} km/h`,function(e){const t=document.querySelector(".chance-of-rain>span"),n=document.querySelector(".rain-chance+.air-info-data");t.textContent=e,n.textContent=`${e} %`}(e.forecast.forecastday[0].hour[t.getHours()].chance_of_rain),function(e,t){const n=document.querySelector(".today-forecast-list");for(let o=t+1;o<t+7;o++){24===o&&(o=0);const t=document.createElement("li");t.classList.add("today-forecast-item");const c=document.createElement("h5");c.classList.add("today-forecast-time"),c.textContent=`${o%12==0?"12":o%12}:00 ${1===Math.ceil(o/12)?"AM":"PM"}`;const a=document.createElement("div");a.classList.add("today-weather-icon");const s=document.createElement("img");s.src=`assets/icons/${e[o].is_day?"day":"night"}/${e[o].condition.code}.png`,a.append(s);const r=document.createElement("p");r.classList.add("today-forecast-temp"),r.textContent=Math.round(e[o].temp_c),t.append(c),t.append(a),t.append(r),n.append(t)}}(e.forecast.forecastday[0].hour,t.getHours()),d=e.current.uv,document.querySelector(".uv+.air-info-data").textContent=d})),async function(e){try{const e=await fetch("https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/esfahan?unitGroup=metric&include=days&key=U6246QRR7XRLWVKSZLRVU2GXK&contentType=json&iconSet=icons1",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{!function(e){const t=document.querySelector("#seven-forecast-list");for(let n=0;n<7;n++){const o=document.createElement("li");o.classList.add("seven-forecast-item");const c=document.createElement("span");c.classList.add("seven-forecast-day");const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];c.textContent=`${0===n?"Today":a[new Date(e[n].datetime).getDay()]}`;const s=document.createElement("div");s.classList.add("seven-forecast-weather");const r=document.createElement("img"),d={snow:1225,rain:1189,fog:1030,wind:1542,cloudy:1006,"partly-cloudy-day":1003,"partly-cloudy-night":1003,"clear-day":1e3,"clear-night":1e3};r.src=`assets/icons/day/${d[e[n].icon]}.png`;const i=document.createElement("p");i.textContent=e[n].conditions,s.append(r),s.append(i);const u=document.createElement("p");u.classList.add("high-low");const l=document.createElement("span");l.textContent=Math.round(e[n].tempmax),u.append(l),u.append(`/${Math.round(e[n].tempmin)}`),o.append(c),o.append(s),o.append(u),t.append(o)}}(e.days)}));const e=document.getElementById("city-search"),t=document.getElementById("autocomplete-container"),n=["New York","Los Angeles","Chicago","Houston","Miami"];e.addEventListener("input",(()=>{const o=e.value.toLowerCase(),c=n.filter((e=>e.toLowerCase().includes(o)));t.innerHTML="",c.forEach((n=>{const o=document.createElement("div");o.textContent=n,o.addEventListener("click",(()=>{e.value=n,t.style.display="none"})),t.appendChild(o)})),c.length>0?t.style.display="block":t.style.display="none"}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQ3pCLE1BQU1vQixFQUFNOUMsU0FBU3dCLGNBQWMsUUFDbkNzQixFQUFJNUMsWUFBY0ssS0FBS0MsTUFBTTRCLEVBQUtkLEdBQVksU0FDOUN1QixFQUFXZCxPQUFPZSxHQUNsQkQsRUFBV2QsT0FBTyxJQUFJeEIsS0FBS0MsTUFBTTRCLEVBQUtkLEdBQVksWUFFbERnQixFQUFnQlAsT0FBT1EsR0FDdkJELEVBQWdCUCxPQUFPVSxHQUN2QkgsRUFBZ0JQLE9BQU9jLEdBQ3ZCUixFQUFnQk4sT0FBT08sRUFDekIsQ0FDRixDQW1CRVMsQ0FBb0IzRCxFQUFXLEtBQUUsSUFHbkMsTUFBTTRELEVBQWFoRCxTQUFTaUQsZUFBZSxlQUNyQ0MsRUFBd0JsRCxTQUFTaUQsZUFBZSwwQkFDaERFLEVBQXNCLENBQzFCLFdBQ0EsY0FDQSxVQUNBLFVBQ0EsU0FJRkgsRUFBV0ksaUJBQWlCLFNBQVMsS0FDbkMsTUFBTUMsRUFBWUwsRUFBV00sTUFBTUMsY0FDN0JDLEVBQWtCTCxFQUFvQk0sUUFBT0MsR0FDakRBLEVBQU9ILGNBQWNJLFNBQVNOLEtBSWhDSCxFQUFzQlUsVUFBWSxHQUdsQ0osRUFBZ0JLLFNBQVFILElBQ3RCLE1BQU1JLEVBQWdCOUQsU0FBU3dCLGNBQWMsT0FDN0NzQyxFQUFjNUQsWUFBY3dELEVBRTVCSSxFQUFjVixpQkFBaUIsU0FBUyxLQUV0Q0osRUFBV00sTUFBUUksRUFFbkJSLEVBQXNCYSxNQUFNQyxRQUFVLE1BQU0sSUFHOUNkLEVBQXNCZSxZQUFZSCxFQUFjLElBSTlDTixFQUFnQlUsT0FBUyxFQUMzQmhCLEVBQXNCYSxNQUFNQyxRQUFVLFFBRXRDZCxFQUFzQmEsTUFBTUMsUUFBVSxNQUN4QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW1icmVsbGEvLi9zcmMvYXBpLmpzIiwid2VicGFjazovL3VtYnJlbGxhLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFzeW5jIGZ1bmN0aW9uIGdldEZvcmVjYXN0RGF0YShjaXR5KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS53ZWF0aGVyYXBpLmNvbS92MS9mb3JlY2FzdC5qc29uP3E9JHtjaXR5fSZrZXk9MmQwZjRiMTQwZThmNGUwZmI5NjY0MjM5MjMyMDA1YCxcclxuICAgICAge1xyXG4gICAgICAgIG1vZGU6IFwiY29yc1wiLFxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoe1xyXG4gICdYLUFwaS1LZXknOiBcIjA5dFllWEN3aGlLc01qUVk2TUUxUnc9PXNFYlJQRkRWaGN1UDNVMVJcIixcclxuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG59KTtcclxuYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoRGF0YShjaXR5KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5hcGktbmluamFzLmNvbS92MS9jaXR5P25hbWU9JHtjaXR5fSZsaW1pdD0xMGAsXHJcbiAgICAgIHtcclxuICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldERhaWx5Rm9yZWNhc3REYXRhKGNpdHkpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYGh0dHBzOi8vd2VhdGhlci52aXN1YWxjcm9zc2luZy5jb20vVmlzdWFsQ3Jvc3NpbmdXZWJTZXJ2aWNlcy9yZXN0L3NlcnZpY2VzL3RpbWVsaW5lLyR7Y2l0eX0/dW5pdEdyb3VwPW1ldHJpYyZpbmNsdWRlPWRheXMma2V5PVU2MjQ2UVJSN1hSTFdWS1NaTFJWVTJHWEsmY29udGVudFR5cGU9anNvbiZpY29uU2V0PWljb25zMWAsXHJcbiAgICAgIHtcclxuICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgZ2V0Rm9yZWNhc3REYXRhLCBnZXREYWlseUZvcmVjYXN0RGF0YSwgZ2V0U2VhcmNoRGF0YSB9O1xyXG4iLCJpbXBvcnQgeyBnZXRGb3JlY2FzdERhdGEsIGdldERhaWx5Rm9yZWNhc3REYXRhLCBnZXRTZWFyY2hEYXRhIH0gZnJvbSBcIi4vYXBpLmpzXCI7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDaXR5TmFtZShuYW1lKSB7XHJcbiAgY29uc3QgY2l0eU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNpdHktbmFtZVwiKTtcclxuICBjaXR5TmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNpdHlUZW1wKHRlbXApIHtcclxuICBjb25zdCBjaXR5VGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2l0eS10ZW1wXCIpO1xyXG4gIGNpdHlUZW1wLnRleHRDb250ZW50ID0gdGVtcCArIFwiwrBcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2l0eUNvbmRpdGlvbihjb25kKSB7XHJcbiAgY29uc3QgY2l0eUNvbmRpdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2l0eS1jb25kXCIpO1xyXG4gIGNpdHlDb25kaXRpb24udGV4dENvbnRlbnQgPSBjb25kO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDaXR5SWNvbihpc2RheSwgY29kZSkge1xyXG4gIGNvbnN0IGNpdHlJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53ZWF0aGVyLWljb24gaW1nXCIpO1xyXG4gIGNpdHlJY29uLnNyYyA9IGBhc3NldHMvaWNvbnMvJHtpc2RheSA/IFwiZGF5XCIgOiBcIm5pZ2h0XCJ9LyR7Y29kZX0ucG5nYDtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2hhbmNlT2ZSYWluKHBlcmMpIHtcclxuICBjb25zdCByYWluQ2hhbmNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGFuY2Utb2YtcmFpbj5zcGFuXCIpO1xyXG4gIGNvbnN0IHJhaW5DaGFuY2VBaXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhaW4tY2hhbmNlKy5haXItaW5mby1kYXRhXCIpO1xyXG4gIHJhaW5DaGFuY2UudGV4dENvbnRlbnQgPSBwZXJjO1xyXG4gIHJhaW5DaGFuY2VBaXIudGV4dENvbnRlbnQgPSBgJHtwZXJjfSAlYDtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlSG91cmx5Rm9yZWNhc3QoaG91cnMsIHRpbWUpIHtcclxuICBjb25zdCBmb3JlY2FzdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZGF5LWZvcmVjYXN0LWxpc3RcIik7XHJcbiAgZm9yIChsZXQgaSA9IHRpbWUgKyAxOyBpIDwgdGltZSArIDc7IGkrKykge1xyXG4gICAgaWYgKGkgPT09IDI0KSB7XHJcbiAgICAgIGkgPSAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZm9yZWNhc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgZm9yZWNhc3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS1mb3JlY2FzdC1pdGVtXCIpO1xyXG4gICAgLy8gVG9kYXkgZm9yZWNhc3QgdGltZVxyXG4gICAgY29uc3QgZm9yZWNhc3RUaW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImg1XCIpO1xyXG4gICAgZm9yZWNhc3RUaW1lLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS1mb3JlY2FzdC10aW1lXCIpO1xyXG4gICAgZm9yZWNhc3RUaW1lLnRleHRDb250ZW50ID0gYCR7aSAlIDEyID09PSAwID8gXCIxMlwiIDogaSAlIDEyfTowMCAke1xyXG4gICAgICBNYXRoLmNlaWwoaSAvIDEyKSA9PT0gMSA/IFwiQU1cIiA6IFwiUE1cIlxyXG4gICAgfWA7XHJcbiAgICAvLyBUb2RheSBmb3JlY2FzdCBpY29uXHJcbiAgICBjb25zdCBmb3JlY2FzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZm9yZWNhc3RJY29uLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS13ZWF0aGVyLWljb25cIik7XHJcbiAgICBjb25zdCBmb3JlY2FzdEljb25JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG4gICAgZm9yZWNhc3RJY29uSW1nLnNyYyA9IGBhc3NldHMvaWNvbnMvJHtcclxuICAgICAgaG91cnNbaV1bXCJpc19kYXlcIl0gPyBcImRheVwiIDogXCJuaWdodFwiXHJcbiAgICB9LyR7aG91cnNbaV1bXCJjb25kaXRpb25cIl1bXCJjb2RlXCJdfS5wbmdgO1xyXG4gICAgZm9yZWNhc3RJY29uLmFwcGVuZChmb3JlY2FzdEljb25JbWcpO1xyXG4gICAgLy9Ub2RheSBmb3JlY2FzdCB0ZW1wXHJcbiAgICBjb25zdCBmb3JlY2FzdFRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgIGZvcmVjYXN0VGVtcC5jbGFzc0xpc3QuYWRkKFwidG9kYXktZm9yZWNhc3QtdGVtcFwiKTtcclxuICAgIGZvcmVjYXN0VGVtcC50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoaG91cnNbaV1bXCJ0ZW1wX2NcIl0pO1xyXG4gICAgLy9BcHBlbmRpbmcgYWxsIHRvIGZvcmVjYXN0IGl0ZW0gYW5kIHRoZW4gdG8gZm9yZWNhc3QgbGlzdFxyXG4gICAgZm9yZWNhc3RJdGVtLmFwcGVuZChmb3JlY2FzdFRpbWUpO1xyXG4gICAgZm9yZWNhc3RJdGVtLmFwcGVuZChmb3JlY2FzdEljb24pO1xyXG4gICAgZm9yZWNhc3RJdGVtLmFwcGVuZChmb3JlY2FzdFRlbXApO1xyXG4gICAgZm9yZWNhc3RMaXN0LmFwcGVuZChmb3JlY2FzdEl0ZW0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRmVlbCh0ZW1wKSB7XHJcbiAgY29uc3QgZmVsbHNMaWtlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZWFsLWZlZWwrLmFpci1pbmZvLWRhdGFcIik7XHJcbiAgZmVsbHNMaWtlLnRleHRDb250ZW50ID0gTWF0aC5yb3VuZCh0ZW1wKSArIFwiwrBcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlV2luZChzcGVlZCkge1xyXG4gIGNvbnN0IHdpbmRTcGVlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luZCsuYWlyLWluZm8tZGF0YVwiKTtcclxuICB3aW5kU3BlZWQudGV4dENvbnRlbnQgPSBgJHtzcGVlZH0ga20vaGA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVVWKHV2SW5kZXgpIHtcclxuICBjb25zdCB1diA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXYrLmFpci1pbmZvLWRhdGFcIik7XHJcbiAgdXYudGV4dENvbnRlbnQgPSB1dkluZGV4O1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVEYWlseUZvcmVjYXN0KGRheXMpIHtcclxuICBjb25zdCBkYXlGb3JlY2FzdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NldmVuLWZvcmVjYXN0LWxpc3RcIik7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA3OyBpKyspIHtcclxuICAgIGNvbnN0IGRheUZvcmVjYXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGRheUZvcmVjYXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwic2V2ZW4tZm9yZWNhc3QtaXRlbVwiKTtcclxuICAgIC8vZGF5IGZvcmVjYXN0IGRheVxyXG4gICAgY29uc3QgZGF5Rm9yZWNhc3REYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGRheUZvcmVjYXN0RGF5LmNsYXNzTGlzdC5hZGQoXCJzZXZlbi1mb3JlY2FzdC1kYXlcIik7XHJcbiAgICBjb25zdCBXRUVLREFZUyA9IFtcclxuICAgICAgXCJTdW5kYXlcIixcclxuICAgICAgXCJNb25kYXlcIixcclxuICAgICAgXCJUdWVzZGF5XCIsXHJcbiAgICAgIFwiV2VkbmVzZGF5XCIsXHJcbiAgICAgIFwiVGh1cnNkYXlcIixcclxuICAgICAgXCJGcmlkYXlcIixcclxuICAgICAgXCJTYXR1cmRheVwiLFxyXG4gICAgXTtcclxuICAgIGRheUZvcmVjYXN0RGF5LnRleHRDb250ZW50ID0gYCR7XHJcbiAgICAgIGkgPT09IDAgPyBcIlRvZGF5XCIgOiBXRUVLREFZU1tuZXcgRGF0ZShkYXlzW2ldW1wiZGF0ZXRpbWVcIl0pLmdldERheSgpXVxyXG4gICAgfWA7XHJcbiAgICAvL2RheSBmb3JlY2FzdCBpY29uXHJcbiAgICBjb25zdCBkYXlGb3JlY2FzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgZGF5Rm9yZWNhc3RJY29uLmNsYXNzTGlzdC5hZGQoXCJzZXZlbi1mb3JlY2FzdC13ZWF0aGVyXCIpO1xyXG4gICAgY29uc3QgZGF5Rm9yZWNhc3RJY29uSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIGNvbnN0IElDT05TX0NPREUgPSB7XHJcbiAgICAgIFwic25vd1wiOiAxMjI1LFxyXG4gICAgICBcInJhaW5cIjogMTE4OSxcclxuICAgICAgXCJmb2dcIjogMTAzMCxcclxuICAgICAgXCJ3aW5kXCI6IDE1NDIsXHJcbiAgICAgIFwiY2xvdWR5XCI6IDEwMDYsXHJcbiAgICAgIFwicGFydGx5LWNsb3VkeS1kYXlcIjogMTAwMyxcclxuICAgICAgXCJwYXJ0bHktY2xvdWR5LW5pZ2h0XCI6IDEwMDMsXHJcbiAgICAgIFwiY2xlYXItZGF5XCI6IDEwMDAsXHJcbiAgICAgIFwiY2xlYXItbmlnaHRcIjogMTAwMFxyXG4gICAgfVxyXG4gICAgZGF5Rm9yZWNhc3RJY29uSW1nLnNyYyA9IGBhc3NldHMvaWNvbnMvZGF5LyR7SUNPTlNfQ09ERVtkYXlzW2ldW1wiaWNvblwiXV19LnBuZ2A7XHJcbiAgICBjb25zdCBkYXlGb3JlY2FzdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgIGRheUZvcmVjYXN0VGV4dC50ZXh0Q29udGVudCA9IGRheXNbaV1bXCJjb25kaXRpb25zXCJdO1xyXG4gICAgZGF5Rm9yZWNhc3RJY29uLmFwcGVuZChkYXlGb3JlY2FzdEljb25JbWcpO1xyXG4gICAgZGF5Rm9yZWNhc3RJY29uLmFwcGVuZChkYXlGb3JlY2FzdFRleHQpO1xyXG4gICAgLy9kYXkgZm9yZWNhc3QgaGlnaGxvd1xyXG4gICAgY29uc3QgZGF5SGlnaGxvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG4gICAgZGF5SGlnaGxvdy5jbGFzc0xpc3QuYWRkKFwiaGlnaC1sb3dcIik7XHJcbiAgICBjb25zdCBsb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgIGxvdy50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoZGF5c1tpXVtcInRlbXBtYXhcIl0pO1xyXG4gICAgZGF5SGlnaGxvdy5hcHBlbmQobG93KTtcclxuICAgIGRheUhpZ2hsb3cuYXBwZW5kKGAvJHtNYXRoLnJvdW5kKGRheXNbaV1bXCJ0ZW1wbWluXCJdKX1gKTtcclxuICAgIC8vYXBwZW5kaW5nIGFsbFxyXG4gICAgZGF5Rm9yZWNhc3RJdGVtLmFwcGVuZChkYXlGb3JlY2FzdERheSk7XHJcbiAgICBkYXlGb3JlY2FzdEl0ZW0uYXBwZW5kKGRheUZvcmVjYXN0SWNvbik7XHJcbiAgICBkYXlGb3JlY2FzdEl0ZW0uYXBwZW5kKGRheUhpZ2hsb3cpO1xyXG4gICAgZGF5Rm9yZWNhc3RMaXN0LmFwcGVuZChkYXlGb3JlY2FzdEl0ZW0pO1xyXG4gIH1cclxufVxyXG5cclxuZ2V0Rm9yZWNhc3REYXRhKFwiZXNmYWhhblwiKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc29sZS5sb2coZGF0ZS5nZXREYXkoKSk7XHJcbiAgdXBkYXRlQ2l0eU5hbWUoZGF0YS5sb2NhdGlvbi5uYW1lKTtcclxuICB1cGRhdGVDaXR5VGVtcChkYXRhLmN1cnJlbnRbXCJ0ZW1wX2NcIl0pO1xyXG4gIHVwZGF0ZUNpdHlDb25kaXRpb24oZGF0YS5jdXJyZW50LmNvbmRpdGlvbi50ZXh0KTtcclxuICB1cGRhdGVDaXR5SWNvbihkYXRhLmN1cnJlbnRbXCJpc19kYXlcIl0sIGRhdGEuY3VycmVudC5jb25kaXRpb24uY29kZSk7XHJcbiAgdXBkYXRlRmVlbChkYXRhLmN1cnJlbnQuZmVlbHNsaWtlX2MpO1xyXG4gIHVwZGF0ZVdpbmQoZGF0YS5jdXJyZW50LndpbmRfa3BoKTtcclxuICB1cGRhdGVDaGFuY2VPZlJhaW4oXHJcbiAgICBkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W1wiMFwiXVtcImhvdXJcIl1bZGF0ZS5nZXRIb3VycygpXVtcImNoYW5jZV9vZl9yYWluXCJdXHJcbiAgKTtcclxuICB1cGRhdGVIb3VybHlGb3JlY2FzdChkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W1wiMFwiXVtcImhvdXJcIl0sIGRhdGUuZ2V0SG91cnMoKSk7XHJcbiAgdXBkYXRlVVYoZGF0YS5jdXJyZW50LnV2KTtcclxufSk7XHJcblxyXG5nZXREYWlseUZvcmVjYXN0RGF0YShcImVzZmFoYW5cIikudGhlbigoZGF0YSkgPT4ge1xyXG4gIHVwZGF0ZURhaWx5Rm9yZWNhc3QoZGF0YVtcImRheXNcIl0pO1xyXG59KTtcclxuXHJcbmNvbnN0IGNpdHlTZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0eS1zZWFyY2gnKTtcclxuY29uc3QgYXV0b2NvbXBsZXRlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9jb21wbGV0ZS1jb250YWluZXInKTtcclxuY29uc3QgYXV0b2NvbXBsZXRlT3B0aW9ucyA9IFtcclxuICAnTmV3IFlvcmsnLFxyXG4gICdMb3MgQW5nZWxlcycsXHJcbiAgJ0NoaWNhZ28nLFxyXG4gICdIb3VzdG9uJyxcclxuICAnTWlhbWknLFxyXG4gIC8vIEFkZCBtb3JlIG9wdGlvbnMgYXMgbmVlZGVkXHJcbl07XHJcblxyXG5jaXR5U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gIGNvbnN0IHVzZXJJbnB1dCA9IGNpdHlTZWFyY2gudmFsdWUudG9Mb3dlckNhc2UoKTtcclxuICBjb25zdCBtYXRjaGluZ09wdGlvbnMgPSBhdXRvY29tcGxldGVPcHRpb25zLmZpbHRlcihvcHRpb24gPT5cclxuICAgIG9wdGlvbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHVzZXJJbnB1dClcclxuICApO1xyXG5cclxuICAvLyBDbGVhciBwcmV2aW91cyBvcHRpb25zXHJcbiAgYXV0b2NvbXBsZXRlQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAvLyBEaXNwbGF5IG1hdGNoaW5nIG9wdGlvbnMgaW4gdGhlIGNvbnRhaW5lclxyXG4gIG1hdGNoaW5nT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XHJcbiAgICBjb25zdCBvcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBvcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uO1xyXG5cclxuICAgIG9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIC8vIFdoZW4gYW4gb3B0aW9uIGlzIGNsaWNrZWQsIGZpbGwgdGhlIGlucHV0IGZpZWxkIHdpdGggdGhlIHNlbGVjdGVkIG9wdGlvblxyXG4gICAgICBjaXR5U2VhcmNoLnZhbHVlID0gb3B0aW9uO1xyXG4gICAgICAvLyBIaWRlIHRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyXHJcbiAgICAgIGF1dG9jb21wbGV0ZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYXV0b2NvbXBsZXRlQ29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBTaG93L2hpZGUgdGhlIGF1dG9jb21wbGV0ZSBjb250YWluZXIgYmFzZWQgb24gbWF0Y2hpbmcgb3B0aW9uc1xyXG4gIGlmIChtYXRjaGluZ09wdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgYXV0b2NvbXBsZXRlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhdXRvY29tcGxldGVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcbn0pO1xyXG4vLyBnZXRTZWFyY2hEYXRhKFwic2FuXCIpLnRoZW4oKGRhdGEpID0+IHtcclxuLy8gICBjb25zb2xlLmxvZyhkYXRhKVxyXG4vLyB9KTtcclxuIl0sIm5hbWVzIjpbIkhlYWRlcnMiLCJhc3luYyIsImNpdHkiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImdldEZvcmVjYXN0RGF0YSIsInRoZW4iLCJkYXRhIiwiZGF0ZSIsIkRhdGUiLCJuYW1lIiwidGVtcCIsImNvbmQiLCJpc2RheSIsImNvZGUiLCJzcGVlZCIsInV2SW5kZXgiLCJnZXREYXkiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY3VycmVudCIsImNvbmRpdGlvbiIsInRleHQiLCJzcmMiLCJNYXRoIiwicm91bmQiLCJ1cGRhdGVGZWVsIiwiZmVlbHNsaWtlX2MiLCJ3aW5kX2twaCIsInBlcmMiLCJyYWluQ2hhbmNlIiwicmFpbkNoYW5jZUFpciIsInVwZGF0ZUNoYW5jZU9mUmFpbiIsImZvcmVjYXN0IiwiZm9yZWNhc3RkYXkiLCJnZXRIb3VycyIsImhvdXJzIiwidGltZSIsImZvcmVjYXN0TGlzdCIsImkiLCJmb3JlY2FzdEl0ZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZm9yZWNhc3RUaW1lIiwiY2VpbCIsImZvcmVjYXN0SWNvbiIsImZvcmVjYXN0SWNvbkltZyIsImFwcGVuZCIsImZvcmVjYXN0VGVtcCIsInVwZGF0ZUhvdXJseUZvcmVjYXN0IiwidXYiLCJnZXREYWlseUZvcmVjYXN0RGF0YSIsImRheXMiLCJkYXlGb3JlY2FzdExpc3QiLCJkYXlGb3JlY2FzdEl0ZW0iLCJkYXlGb3JlY2FzdERheSIsIldFRUtEQVlTIiwiZGF5Rm9yZWNhc3RJY29uIiwiZGF5Rm9yZWNhc3RJY29uSW1nIiwiSUNPTlNfQ09ERSIsImRheUZvcmVjYXN0VGV4dCIsImRheUhpZ2hsb3ciLCJsb3ciLCJ1cGRhdGVEYWlseUZvcmVjYXN0IiwiY2l0eVNlYXJjaCIsImdldEVsZW1lbnRCeUlkIiwiYXV0b2NvbXBsZXRlQ29udGFpbmVyIiwiYXV0b2NvbXBsZXRlT3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1c2VySW5wdXQiLCJ2YWx1ZSIsInRvTG93ZXJDYXNlIiwibWF0Y2hpbmdPcHRpb25zIiwiZmlsdGVyIiwib3B0aW9uIiwiaW5jbHVkZXMiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwib3B0aW9uRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImFwcGVuZENoaWxkIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==