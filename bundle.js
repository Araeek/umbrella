(()=>{"use strict";new Headers({"X-Api-Key":"09tYeXCwhiKsMjQY6ME1Rw==sEbRPFDVhcuP3U1R","Content-Type":"application/json"}),async function(e){try{const e=await fetch("https://api.weatherapi.com/v1/forecast.json?q=esfahan&key=2d0f4b140e8f4e0fb9664239232005",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{const t=new Date;var n,c,o,a,s,r,d;n=e.location.name,document.querySelector(".city-name").textContent=n,c=e.current.temp_c,document.querySelector(".city-temp").textContent=c+"°",o=e.current.condition.text,document.querySelector(".city-cond").textContent=o,a=e.current.is_day,s=e.current.condition.code,document.querySelector(".weather-icon img").src=`assets/icons/${a?"day":"night"}/${s}.png`,function(e){document.querySelector(".real-feel+.air-info-data").textContent=Math.round(e)+"°"}(e.current.feelslike_c),r=e.current.wind_kph,document.querySelector(".wind+.air-info-data").textContent=`${r} km/h`,function(e){const t=document.querySelector(".chance-of-rain>span"),n=document.querySelector(".rain-chance+.air-info-data");t.textContent=e,n.textContent=`${e} %`}(e.forecast.forecastday[0].hour[t.getHours()].chance_of_rain),function(e,t){const n=document.querySelector(".today-forecast-list");for(let c=t+1;c<t+7;c++){24===c&&(c=0);const t=document.createElement("li");t.classList.add("today-forecast-item");const o=document.createElement("h5");o.classList.add("today-forecast-time"),o.textContent=`${c%12==0?"12":c%12}:00 ${1===Math.ceil(c/12)?"AM":"PM"}`;const a=document.createElement("div");a.classList.add("today-weather-icon");const s=document.createElement("img");s.src=`assets/icons/${e[c].is_day?"day":"night"}/${e[c].condition.code}.png`,a.append(s);const r=document.createElement("p");r.classList.add("today-forecast-temp"),r.textContent=Math.round(e[c].temp_c),t.append(o),t.append(a),t.append(r),n.append(t)}}(e.forecast.forecastday[0].hour,t.getHours()),d=e.current.uv,document.querySelector(".uv+.air-info-data").textContent=d})),async function(e){try{const e=await fetch("https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/esfahan?unitGroup=metric&include=days&key=U6246QRR7XRLWVKSZLRVU2GXK&contentType=json&iconSet=icons1",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{!function(e){const t=document.querySelector("#seven-forecast-list");for(let n=0;n<7;n++){const c=document.createElement("li");c.classList.add("seven-forecast-item");const o=document.createElement("span");o.classList.add("seven-forecast-day");const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];o.textContent=`${0===n?"Today":a[new Date(e[n].datetime).getDay()]}`;const s=document.createElement("div");s.classList.add("seven-forecast-weather");const r=document.createElement("img"),d={snow:1225,rain:1189,fog:1030,wind:1542,cloudy:1006,"partly-cloudy-day":1003,"partly-cloudy-night":1003,"clear-day":1e3,"clear-night":1e3};r.src=`assets/icons/day/${d[e[n].icon]}.png`;const i=document.createElement("p");i.textContent=e[n].conditions,s.append(r),s.append(i);const u=document.createElement("p");u.classList.add("high-low");const l=document.createElement("span");l.textContent=Math.round(e[n].tempmax),u.append(l),u.append(`/${Math.round(e[n].tempmin)}`),c.append(o),c.append(s),c.append(u),t.append(c)}}(e.days)}));const e=document.getElementById("search-result"),t=document.getElementsByClassName("close")[0],n=document.querySelector(".search-button"),c=document.getElementById("search-bar");function o(){e.style.display="block"}function a(){e.style.display="none"}document.getElementById("result-list"),n.addEventListener("click",(function(e){e.preventDefault(),o()})),c.addEventListener("submit",(function(e){e.preventDefault(),o()})),t.addEventListener("click",a),window.addEventListener("click",(function(t){t.target===e&&a()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFnQmdCLElBQUlBLFFBQVEsQ0FDMUIsWUFBYSwyQ0FDYixlQUFnQixxQkFsQmxCQyxlQUErQkMsR0FDN0IsSUFDRSxNQUFNQyxRQUFpQkMsTUFDckIsMkZBQ0EsQ0FDRUMsS0FBTSxTQUtWLGFBRm1CRixFQUFTRyxNQUc5QixDQUFFLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEVBQUlHLFFBQ2xCLENBQ0YsQ0N5SEFDLEdBQTJCQyxNQUFNQyxJQUMvQixNQUFNQyxFQUFPLElBQUlDLEtBdEluQixJQUF3QkMsRUFLQUMsRUFLS0MsRUFLTEMsRUFBT0MsRUFtRFhDLEVBS0ZDLEVBdkVNTixFQXVJUEgsRUFBS1UsU0FBU1AsS0F0SVpRLFNBQVNDLGNBQWMsY0FDL0JDLFlBQWNWLEVBR0RDLEVBbUlQSixFQUFLYyxRQUFnQixPQWxJbkJILFNBQVNDLGNBQWMsY0FDL0JDLFlBQWNULEVBQU8sSUFHSEMsRUErSFBMLEVBQUtjLFFBQVFDLFVBQVVDLEtBOUhyQkwsU0FBU0MsY0FBYyxjQUMvQkMsWUFBY1IsRUFHTkMsRUEySFBOLEVBQUtjLFFBQWdCLE9BM0hQUCxFQTJIVVAsRUFBS2MsUUFBUUMsVUFBVVIsS0ExSDdDSSxTQUFTQyxjQUFjLHFCQUMvQkssSUFBTSxnQkFBZ0JYLEVBQVEsTUFBUSxXQUFXQyxRQTRDNUQsU0FBb0JILEdBQ0FPLFNBQVNDLGNBQWMsNkJBQy9CQyxZQUFjSyxLQUFLQyxNQUFNZixHQUFRLEdBQzdDLENBMkVFZ0IsQ0FBV3BCLEVBQUtjLFFBQVFPLGFBekVOYixFQTBFUFIsRUFBS2MsUUFBUVEsU0F6RU5YLFNBQVNDLGNBQWMsd0JBQy9CQyxZQUFjLEdBQUdMLFNBaEQ3QixTQUE0QmUsR0FDMUIsTUFBTUMsRUFBYWIsU0FBU0MsY0FBYyx3QkFDcENhLEVBQWdCZCxTQUFTQyxjQUFjLCtCQUM3Q1ksRUFBV1gsWUFBY1UsRUFDekJFLEVBQWNaLFlBQWMsR0FBR1UsS0FDakMsQ0FvSEVHLENBQ0UxQixFQUFLMkIsU0FBU0MsWUFBWSxHQUFXLEtBQUUzQixFQUFLNEIsWUFBNEIsZ0JBbkg1RSxTQUE4QkMsRUFBT0MsR0FDbkMsTUFBTUMsRUFBZXJCLFNBQVNDLGNBQWMsd0JBQzVDLElBQUssSUFBSXFCLEVBQUlGLEVBQU8sRUFBR0UsRUFBSUYsRUFBTyxFQUFHRSxJQUFLLENBQzlCLEtBQU5BLElBQ0ZBLEVBQUksR0FFTixNQUFNQyxFQUFldkIsU0FBU3dCLGNBQWMsTUFDNUNELEVBQWFFLFVBQVVDLElBQUksdUJBRTNCLE1BQU1DLEVBQWUzQixTQUFTd0IsY0FBYyxNQUM1Q0csRUFBYUYsVUFBVUMsSUFBSSx1QkFDM0JDLEVBQWF6QixZQUFjLEdBQUdvQixFQUFJLElBQU8sRUFBSSxLQUFPQSxFQUFJLFNBQ2hDLElBQXRCZixLQUFLcUIsS0FBS04sRUFBSSxJQUFZLEtBQU8sT0FHbkMsTUFBTU8sRUFBZTdCLFNBQVN3QixjQUFjLE9BQzVDSyxFQUFhSixVQUFVQyxJQUFJLHNCQUMzQixNQUFNSSxFQUFrQjlCLFNBQVN3QixjQUFjLE9BQy9DTSxFQUFnQnhCLElBQU0sZ0JBQ3BCYSxFQUFNRyxHQUFXLE9BQUksTUFBUSxXQUMzQkgsRUFBTUcsR0FBYyxVQUFRLFdBQ2hDTyxFQUFhRSxPQUFPRCxHQUVwQixNQUFNRSxFQUFlaEMsU0FBU3dCLGNBQWMsS0FDNUNRLEVBQWFQLFVBQVVDLElBQUksdUJBQzNCTSxFQUFhOUIsWUFBY0ssS0FBS0MsTUFBTVcsRUFBTUcsR0FBVyxRQUV2REMsRUFBYVEsT0FBT0osR0FDcEJKLEVBQWFRLE9BQU9GLEdBQ3BCTixFQUFhUSxPQUFPQyxHQUNwQlgsRUFBYVUsT0FBT1IsRUFDdEIsQ0FDRixDQXFGRVUsQ0FBcUI1QyxFQUFLMkIsU0FBU0MsWUFBWSxHQUFXLEtBQUczQixFQUFLNEIsWUF6RWxEcEIsRUEwRVBULEVBQUtjLFFBQVErQixHQXpFWGxDLFNBQVNDLGNBQWMsc0JBQy9CQyxZQUFjSixDQXdFUSxJRDlHM0JyQixlQUFvQ0MsR0FDbEMsSUFDRSxNQUFNQyxRQUFpQkMsTUFDckIsMExBQ0EsQ0FDRUMsS0FBTSxTQUtWLGFBRm1CRixFQUFTRyxNQUc5QixDQUFFLE1BQU9DLEdBQ1BDLFFBQVFDLElBQUlGLEVBQUlHLFFBQ2xCLENBQ0YsQ0NtR0FpRCxHQUFnQy9DLE1BQU1DLEtBeEV0QyxTQUE2QitDLEdBQzNCLE1BQU1DLEVBQWtCckMsU0FBU0MsY0FBYyx3QkFDL0MsSUFBSyxJQUFJcUIsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQUssQ0FDMUIsTUFBTWdCLEVBQWtCdEMsU0FBU3dCLGNBQWMsTUFDL0NjLEVBQWdCYixVQUFVQyxJQUFJLHVCQUU5QixNQUFNYSxFQUFpQnZDLFNBQVN3QixjQUFjLFFBQzlDZSxFQUFlZCxVQUFVQyxJQUFJLHNCQUM3QixNQUFNYyxFQUFXLENBQ2YsU0FDQSxTQUNBLFVBQ0EsWUFDQSxXQUNBLFNBQ0EsWUFFRkQsRUFBZXJDLFlBQWMsR0FDckIsSUFBTm9CLEVBQVUsUUFBVWtCLEVBQVMsSUFBSWpELEtBQUs2QyxFQUFLZCxHQUFhLFVBQUdtQixZQUc3RCxNQUFNQyxFQUFrQjFDLFNBQVN3QixjQUFjLE9BQy9Da0IsRUFBZ0JqQixVQUFVQyxJQUFJLDBCQUM5QixNQUFNaUIsRUFBcUIzQyxTQUFTd0IsY0FBYyxPQUM1Q29CLEVBQWEsQ0FDakJDLEtBQU0sS0FDTkMsS0FBTSxLQUNOQyxJQUFLLEtBQ0xDLEtBQU0sS0FDTkMsT0FBUSxLQUNSLG9CQUFxQixLQUNyQixzQkFBdUIsS0FDdkIsWUFBYSxJQUNiLGNBQWUsS0FFakJOLEVBQW1CckMsSUFBTSxvQkFDdkJzQyxFQUFXUixFQUFLZCxHQUFTLFlBRTNCLE1BQU00QixFQUFrQmxELFNBQVN3QixjQUFjLEtBQy9DMEIsRUFBZ0JoRCxZQUFja0MsRUFBS2QsR0FBZSxXQUNsRG9CLEVBQWdCWCxPQUFPWSxHQUN2QkQsRUFBZ0JYLE9BQU9tQixHQUV2QixNQUFNQyxFQUFhbkQsU0FBU3dCLGNBQWMsS0FDMUMyQixFQUFXMUIsVUFBVUMsSUFBSSxZQUN6QixNQUFNMEIsRUFBTXBELFNBQVN3QixjQUFjLFFBQ25DNEIsRUFBSWxELFlBQWNLLEtBQUtDLE1BQU00QixFQUFLZCxHQUFZLFNBQzlDNkIsRUFBV3BCLE9BQU9xQixHQUNsQkQsRUFBV3BCLE9BQU8sSUFBSXhCLEtBQUtDLE1BQU00QixFQUFLZCxHQUFZLFlBRWxEZ0IsRUFBZ0JQLE9BQU9RLEdBQ3ZCRCxFQUFnQlAsT0FBT1csR0FDdkJKLEVBQWdCUCxPQUFPb0IsR0FDdkJkLEVBQWdCTixPQUFPTyxFQUN6QixDQUNGLENBa0JFZSxDQUFvQmhFLEVBQVcsS0FBRSxJQUduQyxNQUdNaUUsRUFBZXRELFNBQVN1RCxlQUFlLGlCQUN2Q0MsRUFBY3hELFNBQVN5RCx1QkFBdUIsU0FBUyxHQUd2REMsRUFBZTFELFNBQVNDLGNBQWMsa0JBQ3RDMEQsRUFBZ0IzRCxTQUFTdUQsZUFBZSxjQUk5QyxTQUFTSyxJQUNQTixFQUFhTyxNQUFNQyxRQUFVLE9BQy9CLENBR0EsU0FBU0MsSUFDUFQsRUFBYU8sTUFBTUMsUUFBVSxNQUMvQixDQVZtQjlELFNBQVN1RCxlQUFlLGVBYTNDRyxFQUFhTSxpQkFBaUIsU0FBUyxTQUFVQyxHQUMvQ0EsRUFBRUMsaUJBUUZOLEdBQ0YsSUFHQUQsRUFBY0ssaUJBQWlCLFVBQVUsU0FBVUMsR0FDakRBLEVBQUVDLGlCQUdGTixHQUNGLElBR0FKLEVBQVlRLGlCQUFpQixRQUFTRCxHQUd0Q0ksT0FBT0gsaUJBQWlCLFNBQVMsU0FBVUMsR0FDckNBLEVBQUVHLFNBQVdkLEdBQ2ZTLEdBRUosRyIsInNvdXJjZXMiOlsid2VicGFjazovL3VtYnJlbGxhLy4vc3JjL2FwaS5qcyIsIndlYnBhY2s6Ly91bWJyZWxsYS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJhc3luYyBmdW5jdGlvbiBnZXRGb3JlY2FzdERhdGEoY2l0eSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvZm9yZWNhc3QuanNvbj9xPSR7Y2l0eX0ma2V5PTJkMGY0YjE0MGU4ZjRlMGZiOTY2NDIzOTIzMjAwNWAsXHJcbiAgICAgIHtcclxuICAgICAgICBtb2RlOiBcImNvcnNcIixcclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcclxuICAnWC1BcGktS2V5JzogXCIwOXRZZVhDd2hpS3NNalFZNk1FMVJ3PT1zRWJSUEZEVmhjdVAzVTFSXCIsXHJcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxufSk7XHJcbmFzeW5jIGZ1bmN0aW9uIGdldFNlYXJjaERhdGEoY2l0eSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcGkuYXBpLW5pbmphcy5jb20vdjEvY2l0eT9uYW1lPSR7Y2l0eX0mbGltaXQ9MTBgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbW9kZTogXCJjb3JzXCIsXHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXREYWlseUZvcmVjYXN0RGF0YShjaXR5KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL3dlYXRoZXIudmlzdWFsY3Jvc3NpbmcuY29tL1Zpc3VhbENyb3NzaW5nV2ViU2VydmljZXMvcmVzdC9zZXJ2aWNlcy90aW1lbGluZS8ke2NpdHl9P3VuaXRHcm91cD1tZXRyaWMmaW5jbHVkZT1kYXlzJmtleT1VNjI0NlFSUjdYUkxXVktTWkxSVlUyR1hLJmNvbnRlbnRUeXBlPWpzb24maWNvblNldD1pY29uczFgLFxyXG4gICAgICB7XHJcbiAgICAgICAgbW9kZTogXCJjb3JzXCIsXHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGdldEZvcmVjYXN0RGF0YSwgZ2V0RGFpbHlGb3JlY2FzdERhdGEsIGdldFNlYXJjaERhdGEgfTtcclxuIiwiaW1wb3J0IHsgZ2V0Rm9yZWNhc3REYXRhLCBnZXREYWlseUZvcmVjYXN0RGF0YSwgZ2V0U2VhcmNoRGF0YSB9IGZyb20gXCIuL2FwaS5qc1wiO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2l0eU5hbWUobmFtZSkge1xyXG4gIGNvbnN0IGNpdHlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaXR5LW5hbWVcIik7XHJcbiAgY2l0eU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVDaXR5VGVtcCh0ZW1wKSB7XHJcbiAgY29uc3QgY2l0eVRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNpdHktdGVtcFwiKTtcclxuICBjaXR5VGVtcC50ZXh0Q29udGVudCA9IHRlbXAgKyBcIsKwXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNpdHlDb25kaXRpb24oY29uZCkge1xyXG4gIGNvbnN0IGNpdHlDb25kaXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNpdHktY29uZFwiKTtcclxuICBjaXR5Q29uZGl0aW9uLnRleHRDb250ZW50ID0gY29uZDtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlQ2l0eUljb24oaXNkYXksIGNvZGUpIHtcclxuICBjb25zdCBjaXR5SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2VhdGhlci1pY29uIGltZ1wiKTtcclxuICBjaXR5SWNvbi5zcmMgPSBgYXNzZXRzL2ljb25zLyR7aXNkYXkgPyBcImRheVwiIDogXCJuaWdodFwifS8ke2NvZGV9LnBuZ2A7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNoYW5jZU9mUmFpbihwZXJjKSB7XHJcbiAgY29uc3QgcmFpbkNoYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hhbmNlLW9mLXJhaW4+c3BhblwiKTtcclxuICBjb25zdCByYWluQ2hhbmNlQWlyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYWluLWNoYW5jZSsuYWlyLWluZm8tZGF0YVwiKTtcclxuICByYWluQ2hhbmNlLnRleHRDb250ZW50ID0gcGVyYztcclxuICByYWluQ2hhbmNlQWlyLnRleHRDb250ZW50ID0gYCR7cGVyY30gJWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUhvdXJseUZvcmVjYXN0KGhvdXJzLCB0aW1lKSB7XHJcbiAgY29uc3QgZm9yZWNhc3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RheS1mb3JlY2FzdC1saXN0XCIpO1xyXG4gIGZvciAobGV0IGkgPSB0aW1lICsgMTsgaSA8IHRpbWUgKyA3OyBpKyspIHtcclxuICAgIGlmIChpID09PSAyNCkge1xyXG4gICAgICBpID0gMDtcclxuICAgIH1cclxuICAgIGNvbnN0IGZvcmVjYXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAgIGZvcmVjYXN0SXRlbS5jbGFzc0xpc3QuYWRkKFwidG9kYXktZm9yZWNhc3QtaXRlbVwiKTtcclxuICAgIC8vIFRvZGF5IGZvcmVjYXN0IHRpbWVcclxuICAgIGNvbnN0IGZvcmVjYXN0VGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoNVwiKTtcclxuICAgIGZvcmVjYXN0VGltZS5jbGFzc0xpc3QuYWRkKFwidG9kYXktZm9yZWNhc3QtdGltZVwiKTtcclxuICAgIGZvcmVjYXN0VGltZS50ZXh0Q29udGVudCA9IGAke2kgJSAxMiA9PT0gMCA/IFwiMTJcIiA6IGkgJSAxMn06MDAgJHtcclxuICAgICAgTWF0aC5jZWlsKGkgLyAxMikgPT09IDEgPyBcIkFNXCIgOiBcIlBNXCJcclxuICAgIH1gO1xyXG4gICAgLy8gVG9kYXkgZm9yZWNhc3QgaWNvblxyXG4gICAgY29uc3QgZm9yZWNhc3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGZvcmVjYXN0SWNvbi5jbGFzc0xpc3QuYWRkKFwidG9kYXktd2VhdGhlci1pY29uXCIpO1xyXG4gICAgY29uc3QgZm9yZWNhc3RJY29uSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgIGZvcmVjYXN0SWNvbkltZy5zcmMgPSBgYXNzZXRzL2ljb25zLyR7XHJcbiAgICAgIGhvdXJzW2ldW1wiaXNfZGF5XCJdID8gXCJkYXlcIiA6IFwibmlnaHRcIlxyXG4gICAgfS8ke2hvdXJzW2ldW1wiY29uZGl0aW9uXCJdW1wiY29kZVwiXX0ucG5nYDtcclxuICAgIGZvcmVjYXN0SWNvbi5hcHBlbmQoZm9yZWNhc3RJY29uSW1nKTtcclxuICAgIC8vVG9kYXkgZm9yZWNhc3QgdGVtcFxyXG4gICAgY29uc3QgZm9yZWNhc3RUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBmb3JlY2FzdFRlbXAuY2xhc3NMaXN0LmFkZChcInRvZGF5LWZvcmVjYXN0LXRlbXBcIik7XHJcbiAgICBmb3JlY2FzdFRlbXAudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKGhvdXJzW2ldW1widGVtcF9jXCJdKTtcclxuICAgIC8vQXBwZW5kaW5nIGFsbCB0byBmb3JlY2FzdCBpdGVtIGFuZCB0aGVuIHRvIGZvcmVjYXN0IGxpc3RcclxuICAgIGZvcmVjYXN0SXRlbS5hcHBlbmQoZm9yZWNhc3RUaW1lKTtcclxuICAgIGZvcmVjYXN0SXRlbS5hcHBlbmQoZm9yZWNhc3RJY29uKTtcclxuICAgIGZvcmVjYXN0SXRlbS5hcHBlbmQoZm9yZWNhc3RUZW1wKTtcclxuICAgIGZvcmVjYXN0TGlzdC5hcHBlbmQoZm9yZWNhc3RJdGVtKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUZlZWwodGVtcCkge1xyXG4gIGNvbnN0IGZlbGxzTGlrZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhbC1mZWVsKy5haXItaW5mby1kYXRhXCIpO1xyXG4gIGZlbGxzTGlrZS50ZXh0Q29udGVudCA9IE1hdGgucm91bmQodGVtcCkgKyBcIsKwXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVdpbmQoc3BlZWQpIHtcclxuICBjb25zdCB3aW5kU3BlZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbmQrLmFpci1pbmZvLWRhdGFcIik7XHJcbiAgd2luZFNwZWVkLnRleHRDb250ZW50ID0gYCR7c3BlZWR9IGttL2hgO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVVVih1dkluZGV4KSB7XHJcbiAgY29uc3QgdXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnV2Ky5haXItaW5mby1kYXRhXCIpO1xyXG4gIHV2LnRleHRDb250ZW50ID0gdXZJbmRleDtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlRGFpbHlGb3JlY2FzdChkYXlzKSB7XHJcbiAgY29uc3QgZGF5Rm9yZWNhc3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZXZlbi1mb3JlY2FzdC1saXN0XCIpO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XHJcbiAgICBjb25zdCBkYXlGb3JlY2FzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICBkYXlGb3JlY2FzdEl0ZW0uY2xhc3NMaXN0LmFkZChcInNldmVuLWZvcmVjYXN0LWl0ZW1cIik7XHJcbiAgICAvL2RheSBmb3JlY2FzdCBkYXlcclxuICAgIGNvbnN0IGRheUZvcmVjYXN0RGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBkYXlGb3JlY2FzdERheS5jbGFzc0xpc3QuYWRkKFwic2V2ZW4tZm9yZWNhc3QtZGF5XCIpO1xyXG4gICAgY29uc3QgV0VFS0RBWVMgPSBbXHJcbiAgICAgIFwiU3VuZGF5XCIsXHJcbiAgICAgIFwiTW9uZGF5XCIsXHJcbiAgICAgIFwiVHVlc2RheVwiLFxyXG4gICAgICBcIldlZG5lc2RheVwiLFxyXG4gICAgICBcIlRodXJzZGF5XCIsXHJcbiAgICAgIFwiRnJpZGF5XCIsXHJcbiAgICAgIFwiU2F0dXJkYXlcIixcclxuICAgIF07XHJcbiAgICBkYXlGb3JlY2FzdERheS50ZXh0Q29udGVudCA9IGAke1xyXG4gICAgICBpID09PSAwID8gXCJUb2RheVwiIDogV0VFS0RBWVNbbmV3IERhdGUoZGF5c1tpXVtcImRhdGV0aW1lXCJdKS5nZXREYXkoKV1cclxuICAgIH1gO1xyXG4gICAgLy9kYXkgZm9yZWNhc3QgaWNvblxyXG4gICAgY29uc3QgZGF5Rm9yZWNhc3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRheUZvcmVjYXN0SWNvbi5jbGFzc0xpc3QuYWRkKFwic2V2ZW4tZm9yZWNhc3Qtd2VhdGhlclwiKTtcclxuICAgIGNvbnN0IGRheUZvcmVjYXN0SWNvbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBjb25zdCBJQ09OU19DT0RFID0ge1xyXG4gICAgICBzbm93OiAxMjI1LFxyXG4gICAgICByYWluOiAxMTg5LFxyXG4gICAgICBmb2c6IDEwMzAsXHJcbiAgICAgIHdpbmQ6IDE1NDIsXHJcbiAgICAgIGNsb3VkeTogMTAwNixcclxuICAgICAgXCJwYXJ0bHktY2xvdWR5LWRheVwiOiAxMDAzLFxyXG4gICAgICBcInBhcnRseS1jbG91ZHktbmlnaHRcIjogMTAwMyxcclxuICAgICAgXCJjbGVhci1kYXlcIjogMTAwMCxcclxuICAgICAgXCJjbGVhci1uaWdodFwiOiAxMDAwLFxyXG4gICAgfTtcclxuICAgIGRheUZvcmVjYXN0SWNvbkltZy5zcmMgPSBgYXNzZXRzL2ljb25zL2RheS8ke1xyXG4gICAgICBJQ09OU19DT0RFW2RheXNbaV1bXCJpY29uXCJdXVxyXG4gICAgfS5wbmdgO1xyXG4gICAgY29uc3QgZGF5Rm9yZWNhc3RUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBkYXlGb3JlY2FzdFRleHQudGV4dENvbnRlbnQgPSBkYXlzW2ldW1wiY29uZGl0aW9uc1wiXTtcclxuICAgIGRheUZvcmVjYXN0SWNvbi5hcHBlbmQoZGF5Rm9yZWNhc3RJY29uSW1nKTtcclxuICAgIGRheUZvcmVjYXN0SWNvbi5hcHBlbmQoZGF5Rm9yZWNhc3RUZXh0KTtcclxuICAgIC8vZGF5IGZvcmVjYXN0IGhpZ2hsb3dcclxuICAgIGNvbnN0IGRheUhpZ2hsb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICAgIGRheUhpZ2hsb3cuY2xhc3NMaXN0LmFkZChcImhpZ2gtbG93XCIpO1xyXG4gICAgY29uc3QgbG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBsb3cudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKGRheXNbaV1bXCJ0ZW1wbWF4XCJdKTtcclxuICAgIGRheUhpZ2hsb3cuYXBwZW5kKGxvdyk7XHJcbiAgICBkYXlIaWdobG93LmFwcGVuZChgLyR7TWF0aC5yb3VuZChkYXlzW2ldW1widGVtcG1pblwiXSl9YCk7XHJcbiAgICAvL2FwcGVuZGluZyBhbGxcclxuICAgIGRheUZvcmVjYXN0SXRlbS5hcHBlbmQoZGF5Rm9yZWNhc3REYXkpO1xyXG4gICAgZGF5Rm9yZWNhc3RJdGVtLmFwcGVuZChkYXlGb3JlY2FzdEljb24pO1xyXG4gICAgZGF5Rm9yZWNhc3RJdGVtLmFwcGVuZChkYXlIaWdobG93KTtcclxuICAgIGRheUZvcmVjYXN0TGlzdC5hcHBlbmQoZGF5Rm9yZWNhc3RJdGVtKTtcclxuICB9XHJcbn1cclxuXHJcbmdldEZvcmVjYXN0RGF0YShcImVzZmFoYW5cIikudGhlbigoZGF0YSkgPT4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gIHVwZGF0ZUNpdHlOYW1lKGRhdGEubG9jYXRpb24ubmFtZSk7XHJcbiAgdXBkYXRlQ2l0eVRlbXAoZGF0YS5jdXJyZW50W1widGVtcF9jXCJdKTtcclxuICB1cGRhdGVDaXR5Q29uZGl0aW9uKGRhdGEuY3VycmVudC5jb25kaXRpb24udGV4dCk7XHJcbiAgdXBkYXRlQ2l0eUljb24oZGF0YS5jdXJyZW50W1wiaXNfZGF5XCJdLCBkYXRhLmN1cnJlbnQuY29uZGl0aW9uLmNvZGUpO1xyXG4gIHVwZGF0ZUZlZWwoZGF0YS5jdXJyZW50LmZlZWxzbGlrZV9jKTtcclxuICB1cGRhdGVXaW5kKGRhdGEuY3VycmVudC53aW5kX2twaCk7XHJcbiAgdXBkYXRlQ2hhbmNlT2ZSYWluKFxyXG4gICAgZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVtcIjBcIl1bXCJob3VyXCJdW2RhdGUuZ2V0SG91cnMoKV1bXCJjaGFuY2Vfb2ZfcmFpblwiXVxyXG4gICk7XHJcbiAgdXBkYXRlSG91cmx5Rm9yZWNhc3QoZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVtcIjBcIl1bXCJob3VyXCJdLCBkYXRlLmdldEhvdXJzKCkpO1xyXG4gIHVwZGF0ZVVWKGRhdGEuY3VycmVudC51dik7XHJcbn0pO1xyXG5cclxuZ2V0RGFpbHlGb3JlY2FzdERhdGEoXCJlc2ZhaGFuXCIpLnRoZW4oKGRhdGEpID0+IHtcclxuICB1cGRhdGVEYWlseUZvcmVjYXN0KGRhdGFbXCJkYXlzXCJdKTtcclxufSk7XHJcblxyXG5jb25zdCBjaXR5TGlzdCA9IFtcIk5ldyBZb3JrXCIsIFwiTG9zIEFuZ2VsZXNcIiwgXCJDaGljYWdvXCIsIFwiSG91c3RvblwiLCBcIk1pYW1pXCJdO1xyXG5cclxuLy8gR2V0IHRoZSBtb2RhbCBhbmQgdGhlIGNsb3NlIGJ1dHRvblxyXG5jb25zdCBzZWFyY2hSZXN1bHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1yZXN1bHRcIik7XHJcbmNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNsb3NlXCIpWzBdO1xyXG5cclxuLy8gR2V0IHRoZSBzZWFyY2ggYnV0dG9uIGFuZCB0aGUgZm9ybVxyXG5jb25zdCBzZWFyY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1idXR0b25cIik7XHJcbmNvbnN0IHNlYXJjaEJhckZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1iYXJcIik7XHJcbmNvbnN0IHJlc3VsdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdC1saXN0XCIpO1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZGlzcGxheSB0aGUgbW9kYWxcclxuZnVuY3Rpb24gc2hvd1Jlc3VsdCgpIHtcclxuICBzZWFyY2hSZXN1bHQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxufVxyXG5cclxuLy8gRnVuY3Rpb24gdG8gaGlkZSB0aGUgbW9kYWxcclxuZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcclxuICBzZWFyY2hSZXN1bHQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG59XHJcblxyXG4vLyBFdmVudCBsaXN0ZW5lciBmb3IgdGhlIHNlYXJjaCBidXR0b25cclxuc2VhcmNoQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cclxuICAvLyBjaXR5TGlzdC5mb3JFYWNoKChjaXR5KSA9PiB7XHJcbiAgLy8gICBjb25zdCBjaXR5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuICAvLyAgIGNpdHlJdGVtLmNsYXNzTGlzdC5hZGQoXCJjaXR5LWl0ZW1cIik7XHJcbiAgLy8gICBjaXR5SXRlbS50ZXh0Q29udGVudCA9IGNpdHk7XHJcbiAgLy8gICByZXN1bHRMaXN0LmFwcGVuZChjaXR5SXRlbSk7XHJcbiAgLy8gfSk7XHJcbiAgLy8gU2hvdyB0aGUgbW9kYWxcclxuICBzaG93UmVzdWx0KCk7XHJcbn0pO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBmb3JtIHN1Ym1pc3Npb25cclxuc2VhcmNoQmFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IGZvcm0gc3VibWlzc2lvblxyXG5cclxuICAvLyBTaG93IHRoZSBtb2RhbFxyXG4gIHNob3dSZXN1bHQoKTtcclxufSk7XHJcblxyXG4vLyBFdmVudCBsaXN0ZW5lciB0byBjbG9zZSB0aGUgbW9kYWwgd2hlbiB0aGUgY2xvc2UgYnV0dG9uIGlzIGNsaWNrZWRcclxuY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTW9kYWwpO1xyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXIgdG8gY2xvc2UgdGhlIG1vZGFsIHdoZW4gY2xpY2tpbmcgb3V0c2lkZSB0aGUgbW9kYWxcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gIGlmIChlLnRhcmdldCA9PT0gc2VhcmNoUmVzdWx0KSB7XHJcbiAgICBjbG9zZU1vZGFsKCk7XHJcbiAgfVxyXG59KTtcclxuIl0sIm5hbWVzIjpbIkhlYWRlcnMiLCJhc3luYyIsImNpdHkiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibWVzc2FnZSIsImdldEZvcmVjYXN0RGF0YSIsInRoZW4iLCJkYXRhIiwiZGF0ZSIsIkRhdGUiLCJuYW1lIiwidGVtcCIsImNvbmQiLCJpc2RheSIsImNvZGUiLCJzcGVlZCIsInV2SW5kZXgiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiY3VycmVudCIsImNvbmRpdGlvbiIsInRleHQiLCJzcmMiLCJNYXRoIiwicm91bmQiLCJ1cGRhdGVGZWVsIiwiZmVlbHNsaWtlX2MiLCJ3aW5kX2twaCIsInBlcmMiLCJyYWluQ2hhbmNlIiwicmFpbkNoYW5jZUFpciIsInVwZGF0ZUNoYW5jZU9mUmFpbiIsImZvcmVjYXN0IiwiZm9yZWNhc3RkYXkiLCJnZXRIb3VycyIsImhvdXJzIiwidGltZSIsImZvcmVjYXN0TGlzdCIsImkiLCJmb3JlY2FzdEl0ZW0iLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiZm9yZWNhc3RUaW1lIiwiY2VpbCIsImZvcmVjYXN0SWNvbiIsImZvcmVjYXN0SWNvbkltZyIsImFwcGVuZCIsImZvcmVjYXN0VGVtcCIsInVwZGF0ZUhvdXJseUZvcmVjYXN0IiwidXYiLCJnZXREYWlseUZvcmVjYXN0RGF0YSIsImRheXMiLCJkYXlGb3JlY2FzdExpc3QiLCJkYXlGb3JlY2FzdEl0ZW0iLCJkYXlGb3JlY2FzdERheSIsIldFRUtEQVlTIiwiZ2V0RGF5IiwiZGF5Rm9yZWNhc3RJY29uIiwiZGF5Rm9yZWNhc3RJY29uSW1nIiwiSUNPTlNfQ09ERSIsInNub3ciLCJyYWluIiwiZm9nIiwid2luZCIsImNsb3VkeSIsImRheUZvcmVjYXN0VGV4dCIsImRheUhpZ2hsb3ciLCJsb3ciLCJ1cGRhdGVEYWlseUZvcmVjYXN0Iiwic2VhcmNoUmVzdWx0IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbG9zZUJ1dHRvbiIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzZWFyY2hCdXR0b24iLCJzZWFyY2hCYXJGb3JtIiwic2hvd1Jlc3VsdCIsInN0eWxlIiwiZGlzcGxheSIsImNsb3NlTW9kYWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93IiwidGFyZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==