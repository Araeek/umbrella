(()=>{"use strict";new Headers({"X-Api-Key":"09tYeXCwhiKsMjQY6ME1Rw==sEbRPFDVhcuP3U1R","Content-Type":"application/json"}),async function(e){try{const e=await fetch("https://api.weatherapi.com/v1/forecast.json?q=esfahan&key=2d0f4b140e8f4e0fb9664239232005",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{const t=new Date;var n,o,c,a,s,d,r;console.log(t.getDay()),n=e.location.name,document.querySelector(".city-name").textContent=n,o=e.current.temp_c,document.querySelector(".city-temp").textContent=o+"°",c=e.current.condition.text,document.querySelector(".city-cond").textContent=c,a=e.current.is_day,s=e.current.condition.code,document.querySelector(".weather-icon img").src=`assets/icons/${a?"day":"night"}/${s}.png`,function(e){document.querySelector(".real-feel+.air-info-data").textContent=Math.round(e)+"°"}(e.current.feelslike_c),d=e.current.wind_kph,document.querySelector(".wind+.air-info-data").textContent=`${d} km/h`,function(e){const t=document.querySelector(".chance-of-rain>span"),n=document.querySelector(".rain-chance+.air-info-data");t.textContent=e,n.textContent=`${e} %`}(e.forecast.forecastday[0].hour[t.getHours()].chance_of_rain),function(e,t){const n=document.querySelector(".today-forecast-list");for(let o=t+1;o<t+7;o++){24===o&&(o=0);const t=document.createElement("li");t.classList.add("today-forecast-item");const c=document.createElement("h5");c.classList.add("today-forecast-time"),c.textContent=`${o%12==0?"12":o%12}:00 ${1===Math.ceil(o/12)?"AM":"PM"}`;const a=document.createElement("div");a.classList.add("today-weather-icon");const s=document.createElement("img");s.src=`assets/icons/${e[o].is_day?"day":"night"}/${e[o].condition.code}.png`,a.append(s);const d=document.createElement("p");d.classList.add("today-forecast-temp"),d.textContent=Math.round(e[o].temp_c),t.append(c),t.append(a),t.append(d),n.append(t)}}(e.forecast.forecastday[0].hour,t.getHours()),r=e.current.uv,document.querySelector(".uv+.air-info-data").textContent=r})),async function(e){try{const e=await fetch("https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/esfahan?unitGroup=metric&include=days&key=U6246QRR7XRLWVKSZLRVU2GXK&contentType=json&iconSet=icons1",{mode:"cors"});return await e.json()}catch(e){console.log(e.message)}}().then((e=>{!function(e){const t=document.querySelector("#seven-forecast-list");for(let n=0;n<7;n++){const o=document.createElement("li");o.classList.add("seven-forecast-item");const c=document.createElement("span");c.classList.add("seven-forecast-day");const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];c.textContent=`${0===n?"Today":a[new Date(e[n].datetime).getDay()]}`;const s=document.createElement("div");s.classList.add("seven-forecast-weather");const d=document.createElement("img"),r={snow:1225,rain:1189,fog:1030,wind:1542,cloudy:1006,"partly-cloudy-day":1003,"partly-cloudy-night":1003,"clear-day":1e3,"clear-night":1e3};d.src=`assets/icons/day/${r[e[n].icon]}.png`;const i=document.createElement("p");i.textContent=e[n].conditions,s.append(d),s.append(i);const l=document.createElement("p");l.classList.add("high-low");const u=document.createElement("span");u.textContent=Math.round(e[n].tempmax),l.append(u),l.append(`/${Math.round(e[n].tempmin)}`),o.append(c),o.append(s),o.append(l),t.append(o)}}(e.days)}));const e=document.getElementById("city-search"),t=document.getElementById("autocomplete-container"),n=["New York","Los Angeles","Chicago","Houston","Miami"];e.addEventListener("input",(()=>{const o=e.value.toLowerCase(),c=n.filter((e=>e.toLowerCase().includes(o)));t.innerHTML="",c.forEach((n=>{const o=document.createElement("div");o.classList.add("autocomplete-item"),o.textContent=n,o.addEventListener("click",(()=>{e.value=n,t.style.display="none"})),t.appendChild(o)})),c.length>0?t.style.display="block":t.style.display="none"}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQ3pCLE1BQU1vQixFQUFNOUMsU0FBU3dCLGNBQWMsUUFDbkNzQixFQUFJNUMsWUFBY0ssS0FBS0MsTUFBTTRCLEVBQUtkLEdBQVksU0FDOUN1QixFQUFXZCxPQUFPZSxHQUNsQkQsRUFBV2QsT0FBTyxJQUFJeEIsS0FBS0MsTUFBTTRCLEVBQUtkLEdBQVksWUFFbERnQixFQUFnQlAsT0FBT1EsR0FDdkJELEVBQWdCUCxPQUFPVSxHQUN2QkgsRUFBZ0JQLE9BQU9jLEdBQ3ZCUixFQUFnQk4sT0FBT08sRUFDekIsQ0FDRixDQW1CRVMsQ0FBb0IzRCxFQUFXLEtBQUUsSUFHbkMsTUFBTTRELEVBQWFoRCxTQUFTaUQsZUFBZSxlQUNyQ0MsRUFBd0JsRCxTQUFTaUQsZUFBZSwwQkFDaERFLEVBQXNCLENBQzFCLFdBQ0EsY0FDQSxVQUNBLFVBQ0EsU0FJRkgsRUFBV0ksaUJBQWlCLFNBQVMsS0FDbkMsTUFBTUMsRUFBWUwsRUFBV00sTUFBTUMsY0FDN0JDLEVBQWtCTCxFQUFvQk0sUUFBT0MsR0FDakRBLEVBQU9ILGNBQWNJLFNBQVNOLEtBSWhDSCxFQUFzQlUsVUFBWSxHQUdsQ0osRUFBZ0JLLFNBQVFILElBQ3RCLE1BQU1JLEVBQWdCOUQsU0FBU3dCLGNBQWMsT0FDN0NzQyxFQUFjckMsVUFBVUMsSUFBSSxxQkFDNUJvQyxFQUFjNUQsWUFBY3dELEVBRTVCSSxFQUFjVixpQkFBaUIsU0FBUyxLQUV0Q0osRUFBV00sTUFBUUksRUFFbkJSLEVBQXNCYSxNQUFNQyxRQUFVLE1BQU0sSUFHOUNkLEVBQXNCZSxZQUFZSCxFQUFjLElBSTlDTixFQUFnQlUsT0FBUyxFQUMzQmhCLEVBQXNCYSxNQUFNQyxRQUFVLFFBRXRDZCxFQUFzQmEsTUFBTUMsUUFBVSxNQUN4QyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdW1icmVsbGEvLi9zcmMvYXBpLmpzIiwid2VicGFjazovL3VtYnJlbGxhLy4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImFzeW5jIGZ1bmN0aW9uIGdldEZvcmVjYXN0RGF0YShjaXR5KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL2FwaS53ZWF0aGVyYXBpLmNvbS92MS9mb3JlY2FzdC5qc29uP3E9JHtjaXR5fSZrZXk9MmQwZjRiMTQwZThmNGUwZmI5NjY0MjM5MjMyMDA1YCxcbiAgICAgIHtcbiAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICB9XG4gICAgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gIH1cbn1cblxuY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgJ1gtQXBpLUtleSc6IFwiMDl0WWVYQ3doaUtzTWpRWTZNRTFSdz09c0ViUlBGRFZoY3VQM1UxUlwiLFxuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxufSk7XG5hc3luYyBmdW5jdGlvbiBnZXRTZWFyY2hEYXRhKGNpdHkpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXBpLmFwaS1uaW5qYXMuY29tL3YxL2NpdHk/bmFtZT0ke2NpdHl9JmxpbWl0PTEwYCxcbiAgICAgIHtcbiAgICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBnZXREYWlseUZvcmVjYXN0RGF0YShjaXR5KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGBodHRwczovL3dlYXRoZXIudmlzdWFsY3Jvc3NpbmcuY29tL1Zpc3VhbENyb3NzaW5nV2ViU2VydmljZXMvcmVzdC9zZXJ2aWNlcy90aW1lbGluZS8ke2NpdHl9P3VuaXRHcm91cD1tZXRyaWMmaW5jbHVkZT1kYXlzJmtleT1VNjI0NlFSUjdYUkxXVktTWkxSVlUyR1hLJmNvbnRlbnRUeXBlPWpzb24maWNvblNldD1pY29uczFgLFxuICAgICAge1xuICAgICAgICBtb2RlOiBcImNvcnNcIixcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRGb3JlY2FzdERhdGEsIGdldERhaWx5Rm9yZWNhc3REYXRhLCBnZXRTZWFyY2hEYXRhIH07XG4iLCJpbXBvcnQgeyBnZXRGb3JlY2FzdERhdGEsIGdldERhaWx5Rm9yZWNhc3REYXRhLCBnZXRTZWFyY2hEYXRhIH0gZnJvbSBcIi4vYXBpLmpzXCI7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNpdHlOYW1lKG5hbWUpIHtcbiAgY29uc3QgY2l0eU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNpdHktbmFtZVwiKTtcbiAgY2l0eU5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVDaXR5VGVtcCh0ZW1wKSB7XG4gIGNvbnN0IGNpdHlUZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaXR5LXRlbXBcIik7XG4gIGNpdHlUZW1wLnRleHRDb250ZW50ID0gdGVtcCArIFwiwrBcIjtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2l0eUNvbmRpdGlvbihjb25kKSB7XG4gIGNvbnN0IGNpdHlDb25kaXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNpdHktY29uZFwiKTtcbiAgY2l0eUNvbmRpdGlvbi50ZXh0Q29udGVudCA9IGNvbmQ7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNpdHlJY29uKGlzZGF5LCBjb2RlKSB7XG4gIGNvbnN0IGNpdHlJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53ZWF0aGVyLWljb24gaW1nXCIpO1xuICBjaXR5SWNvbi5zcmMgPSBgYXNzZXRzL2ljb25zLyR7aXNkYXkgPyBcImRheVwiIDogXCJuaWdodFwifS8ke2NvZGV9LnBuZ2A7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoYW5jZU9mUmFpbihwZXJjKSB7XG4gIGNvbnN0IHJhaW5DaGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoYW5jZS1vZi1yYWluPnNwYW5cIik7XG4gIGNvbnN0IHJhaW5DaGFuY2VBaXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhaW4tY2hhbmNlKy5haXItaW5mby1kYXRhXCIpO1xuICByYWluQ2hhbmNlLnRleHRDb250ZW50ID0gcGVyYztcbiAgcmFpbkNoYW5jZUFpci50ZXh0Q29udGVudCA9IGAke3BlcmN9ICVgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVIb3VybHlGb3JlY2FzdChob3VycywgdGltZSkge1xuICBjb25zdCBmb3JlY2FzdExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvZGF5LWZvcmVjYXN0LWxpc3RcIik7XG4gIGZvciAobGV0IGkgPSB0aW1lICsgMTsgaSA8IHRpbWUgKyA3OyBpKyspIHtcbiAgICBpZiAoaSA9PT0gMjQpIHtcbiAgICAgIGkgPSAwO1xuICAgIH1cbiAgICBjb25zdCBmb3JlY2FzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgZm9yZWNhc3RJdGVtLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS1mb3JlY2FzdC1pdGVtXCIpO1xuICAgIC8vIFRvZGF5IGZvcmVjYXN0IHRpbWVcbiAgICBjb25zdCBmb3JlY2FzdFRpbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDVcIik7XG4gICAgZm9yZWNhc3RUaW1lLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS1mb3JlY2FzdC10aW1lXCIpO1xuICAgIGZvcmVjYXN0VGltZS50ZXh0Q29udGVudCA9IGAke2kgJSAxMiA9PT0gMCA/IFwiMTJcIiA6IGkgJSAxMn06MDAgJHtcbiAgICAgIE1hdGguY2VpbChpIC8gMTIpID09PSAxID8gXCJBTVwiIDogXCJQTVwiXG4gICAgfWA7XG4gICAgLy8gVG9kYXkgZm9yZWNhc3QgaWNvblxuICAgIGNvbnN0IGZvcmVjYXN0SWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZm9yZWNhc3RJY29uLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS13ZWF0aGVyLWljb25cIik7XG4gICAgY29uc3QgZm9yZWNhc3RJY29uSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBmb3JlY2FzdEljb25JbWcuc3JjID0gYGFzc2V0cy9pY29ucy8ke1xuICAgICAgaG91cnNbaV1bXCJpc19kYXlcIl0gPyBcImRheVwiIDogXCJuaWdodFwiXG4gICAgfS8ke2hvdXJzW2ldW1wiY29uZGl0aW9uXCJdW1wiY29kZVwiXX0ucG5nYDtcbiAgICBmb3JlY2FzdEljb24uYXBwZW5kKGZvcmVjYXN0SWNvbkltZyk7XG4gICAgLy9Ub2RheSBmb3JlY2FzdCB0ZW1wXG4gICAgY29uc3QgZm9yZWNhc3RUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgZm9yZWNhc3RUZW1wLmNsYXNzTGlzdC5hZGQoXCJ0b2RheS1mb3JlY2FzdC10ZW1wXCIpO1xuICAgIGZvcmVjYXN0VGVtcC50ZXh0Q29udGVudCA9IE1hdGgucm91bmQoaG91cnNbaV1bXCJ0ZW1wX2NcIl0pO1xuICAgIC8vQXBwZW5kaW5nIGFsbCB0byBmb3JlY2FzdCBpdGVtIGFuZCB0aGVuIHRvIGZvcmVjYXN0IGxpc3RcbiAgICBmb3JlY2FzdEl0ZW0uYXBwZW5kKGZvcmVjYXN0VGltZSk7XG4gICAgZm9yZWNhc3RJdGVtLmFwcGVuZChmb3JlY2FzdEljb24pO1xuICAgIGZvcmVjYXN0SXRlbS5hcHBlbmQoZm9yZWNhc3RUZW1wKTtcbiAgICBmb3JlY2FzdExpc3QuYXBwZW5kKGZvcmVjYXN0SXRlbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRmVlbCh0ZW1wKSB7XG4gIGNvbnN0IGZlbGxzTGlrZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVhbC1mZWVsKy5haXItaW5mby1kYXRhXCIpO1xuICBmZWxsc0xpa2UudGV4dENvbnRlbnQgPSBNYXRoLnJvdW5kKHRlbXApICsgXCLCsFwiO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVXaW5kKHNwZWVkKSB7XG4gIGNvbnN0IHdpbmRTcGVlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2luZCsuYWlyLWluZm8tZGF0YVwiKTtcbiAgd2luZFNwZWVkLnRleHRDb250ZW50ID0gYCR7c3BlZWR9IGttL2hgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVVVih1dkluZGV4KSB7XG4gIGNvbnN0IHV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51disuYWlyLWluZm8tZGF0YVwiKTtcbiAgdXYudGV4dENvbnRlbnQgPSB1dkluZGV4O1xufVxuXG5mdW5jdGlvbiB1cGRhdGVEYWlseUZvcmVjYXN0KGRheXMpIHtcbiAgY29uc3QgZGF5Rm9yZWNhc3RMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzZXZlbi1mb3JlY2FzdC1saXN0XCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgIGNvbnN0IGRheUZvcmVjYXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBkYXlGb3JlY2FzdEl0ZW0uY2xhc3NMaXN0LmFkZChcInNldmVuLWZvcmVjYXN0LWl0ZW1cIik7XG4gICAgLy9kYXkgZm9yZWNhc3QgZGF5XG4gICAgY29uc3QgZGF5Rm9yZWNhc3REYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBkYXlGb3JlY2FzdERheS5jbGFzc0xpc3QuYWRkKFwic2V2ZW4tZm9yZWNhc3QtZGF5XCIpO1xuICAgIGNvbnN0IFdFRUtEQVlTID0gW1xuICAgICAgXCJTdW5kYXlcIixcbiAgICAgIFwiTW9uZGF5XCIsXG4gICAgICBcIlR1ZXNkYXlcIixcbiAgICAgIFwiV2VkbmVzZGF5XCIsXG4gICAgICBcIlRodXJzZGF5XCIsXG4gICAgICBcIkZyaWRheVwiLFxuICAgICAgXCJTYXR1cmRheVwiLFxuICAgIF07XG4gICAgZGF5Rm9yZWNhc3REYXkudGV4dENvbnRlbnQgPSBgJHtcbiAgICAgIGkgPT09IDAgPyBcIlRvZGF5XCIgOiBXRUVLREFZU1tuZXcgRGF0ZShkYXlzW2ldW1wiZGF0ZXRpbWVcIl0pLmdldERheSgpXVxuICAgIH1gO1xuICAgIC8vZGF5IGZvcmVjYXN0IGljb25cbiAgICBjb25zdCBkYXlGb3JlY2FzdEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRheUZvcmVjYXN0SWNvbi5jbGFzc0xpc3QuYWRkKFwic2V2ZW4tZm9yZWNhc3Qtd2VhdGhlclwiKTtcbiAgICBjb25zdCBkYXlGb3JlY2FzdEljb25JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGNvbnN0IElDT05TX0NPREUgPSB7XG4gICAgICBcInNub3dcIjogMTIyNSxcbiAgICAgIFwicmFpblwiOiAxMTg5LFxuICAgICAgXCJmb2dcIjogMTAzMCxcbiAgICAgIFwid2luZFwiOiAxNTQyLFxuICAgICAgXCJjbG91ZHlcIjogMTAwNixcbiAgICAgIFwicGFydGx5LWNsb3VkeS1kYXlcIjogMTAwMyxcbiAgICAgIFwicGFydGx5LWNsb3VkeS1uaWdodFwiOiAxMDAzLFxuICAgICAgXCJjbGVhci1kYXlcIjogMTAwMCxcbiAgICAgIFwiY2xlYXItbmlnaHRcIjogMTAwMFxuICAgIH1cbiAgICBkYXlGb3JlY2FzdEljb25JbWcuc3JjID0gYGFzc2V0cy9pY29ucy9kYXkvJHtJQ09OU19DT0RFW2RheXNbaV1bXCJpY29uXCJdXX0ucG5nYDtcbiAgICBjb25zdCBkYXlGb3JlY2FzdFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkYXlGb3JlY2FzdFRleHQudGV4dENvbnRlbnQgPSBkYXlzW2ldW1wiY29uZGl0aW9uc1wiXTtcbiAgICBkYXlGb3JlY2FzdEljb24uYXBwZW5kKGRheUZvcmVjYXN0SWNvbkltZyk7XG4gICAgZGF5Rm9yZWNhc3RJY29uLmFwcGVuZChkYXlGb3JlY2FzdFRleHQpO1xuICAgIC8vZGF5IGZvcmVjYXN0IGhpZ2hsb3dcbiAgICBjb25zdCBkYXlIaWdobG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgZGF5SGlnaGxvdy5jbGFzc0xpc3QuYWRkKFwiaGlnaC1sb3dcIik7XG4gICAgY29uc3QgbG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgbG93LnRleHRDb250ZW50ID0gTWF0aC5yb3VuZChkYXlzW2ldW1widGVtcG1heFwiXSk7XG4gICAgZGF5SGlnaGxvdy5hcHBlbmQobG93KTtcbiAgICBkYXlIaWdobG93LmFwcGVuZChgLyR7TWF0aC5yb3VuZChkYXlzW2ldW1widGVtcG1pblwiXSl9YCk7XG4gICAgLy9hcHBlbmRpbmcgYWxsXG4gICAgZGF5Rm9yZWNhc3RJdGVtLmFwcGVuZChkYXlGb3JlY2FzdERheSk7XG4gICAgZGF5Rm9yZWNhc3RJdGVtLmFwcGVuZChkYXlGb3JlY2FzdEljb24pO1xuICAgIGRheUZvcmVjYXN0SXRlbS5hcHBlbmQoZGF5SGlnaGxvdyk7XG4gICAgZGF5Rm9yZWNhc3RMaXN0LmFwcGVuZChkYXlGb3JlY2FzdEl0ZW0pO1xuICB9XG59XG5cbmdldEZvcmVjYXN0RGF0YShcImVzZmFoYW5cIikudGhlbigoZGF0YSkgPT4ge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgY29uc29sZS5sb2coZGF0ZS5nZXREYXkoKSk7XG4gIHVwZGF0ZUNpdHlOYW1lKGRhdGEubG9jYXRpb24ubmFtZSk7XG4gIHVwZGF0ZUNpdHlUZW1wKGRhdGEuY3VycmVudFtcInRlbXBfY1wiXSk7XG4gIHVwZGF0ZUNpdHlDb25kaXRpb24oZGF0YS5jdXJyZW50LmNvbmRpdGlvbi50ZXh0KTtcbiAgdXBkYXRlQ2l0eUljb24oZGF0YS5jdXJyZW50W1wiaXNfZGF5XCJdLCBkYXRhLmN1cnJlbnQuY29uZGl0aW9uLmNvZGUpO1xuICB1cGRhdGVGZWVsKGRhdGEuY3VycmVudC5mZWVsc2xpa2VfYyk7XG4gIHVwZGF0ZVdpbmQoZGF0YS5jdXJyZW50LndpbmRfa3BoKTtcbiAgdXBkYXRlQ2hhbmNlT2ZSYWluKFxuICAgIGRhdGEuZm9yZWNhc3QuZm9yZWNhc3RkYXlbXCIwXCJdW1wiaG91clwiXVtkYXRlLmdldEhvdXJzKCldW1wiY2hhbmNlX29mX3JhaW5cIl1cbiAgKTtcbiAgdXBkYXRlSG91cmx5Rm9yZWNhc3QoZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVtcIjBcIl1bXCJob3VyXCJdLCBkYXRlLmdldEhvdXJzKCkpO1xuICB1cGRhdGVVVihkYXRhLmN1cnJlbnQudXYpO1xufSk7XG5cbmdldERhaWx5Rm9yZWNhc3REYXRhKFwiZXNmYWhhblwiKS50aGVuKChkYXRhKSA9PiB7XG4gIHVwZGF0ZURhaWx5Rm9yZWNhc3QoZGF0YVtcImRheXNcIl0pO1xufSk7XG5cbmNvbnN0IGNpdHlTZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0eS1zZWFyY2gnKTtcbmNvbnN0IGF1dG9jb21wbGV0ZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvY29tcGxldGUtY29udGFpbmVyJyk7XG5jb25zdCBhdXRvY29tcGxldGVPcHRpb25zID0gW1xuICAnTmV3IFlvcmsnLFxuICAnTG9zIEFuZ2VsZXMnLFxuICAnQ2hpY2FnbycsXG4gICdIb3VzdG9uJyxcbiAgJ01pYW1pJyxcbiAgLy8gQWRkIG1vcmUgb3B0aW9ucyBhcyBuZWVkZWRcbl07XG5cbmNpdHlTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gIGNvbnN0IHVzZXJJbnB1dCA9IGNpdHlTZWFyY2gudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgbWF0Y2hpbmdPcHRpb25zID0gYXV0b2NvbXBsZXRlT3B0aW9ucy5maWx0ZXIob3B0aW9uID0+XG4gICAgb3B0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModXNlcklucHV0KVxuICApO1xuXG4gIC8vIENsZWFyIHByZXZpb3VzIG9wdGlvbnNcbiAgYXV0b2NvbXBsZXRlQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gIC8vIERpc3BsYXkgbWF0Y2hpbmcgb3B0aW9ucyBpbiB0aGUgY29udGFpbmVyXG4gIG1hdGNoaW5nT3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgY29uc3Qgb3B0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImF1dG9jb21wbGV0ZS1pdGVtXCIpXG4gICAgb3B0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG9wdGlvbjtcblxuICAgIG9wdGlvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyBXaGVuIGFuIG9wdGlvbiBpcyBjbGlja2VkLCBmaWxsIHRoZSBpbnB1dCBmaWVsZCB3aXRoIHRoZSBzZWxlY3RlZCBvcHRpb25cbiAgICAgIGNpdHlTZWFyY2gudmFsdWUgPSBvcHRpb247XG4gICAgICAvLyBIaWRlIHRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyXG4gICAgICBhdXRvY29tcGxldGVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcblxuICAgIGF1dG9jb21wbGV0ZUNvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcbiAgfSk7XG5cbiAgLy8gU2hvdy9oaWRlIHRoZSBhdXRvY29tcGxldGUgY29udGFpbmVyIGJhc2VkIG9uIG1hdGNoaW5nIG9wdGlvbnNcbiAgaWYgKG1hdGNoaW5nT3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgYXV0b2NvbXBsZXRlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB9IGVsc2Uge1xuICAgIGF1dG9jb21wbGV0ZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG59KTtcbi8vIGdldFNlYXJjaERhdGEoXCJzYW5cIikudGhlbigoZGF0YSkgPT4ge1xuLy8gICBjb25zb2xlLmxvZyhkYXRhKVxuLy8gfSk7XG4iXSwibmFtZXMiOlsiSGVhZGVycyIsImFzeW5jIiwiY2l0eSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwianNvbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJtZXNzYWdlIiwiZ2V0Rm9yZWNhc3REYXRhIiwidGhlbiIsImRhdGEiLCJkYXRlIiwiRGF0ZSIsIm5hbWUiLCJ0ZW1wIiwiY29uZCIsImlzZGF5IiwiY29kZSIsInNwZWVkIiwidXZJbmRleCIsImdldERheSIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJjdXJyZW50IiwiY29uZGl0aW9uIiwidGV4dCIsInNyYyIsIk1hdGgiLCJyb3VuZCIsInVwZGF0ZUZlZWwiLCJmZWVsc2xpa2VfYyIsIndpbmRfa3BoIiwicGVyYyIsInJhaW5DaGFuY2UiLCJyYWluQ2hhbmNlQWlyIiwidXBkYXRlQ2hhbmNlT2ZSYWluIiwiZm9yZWNhc3QiLCJmb3JlY2FzdGRheSIsImdldEhvdXJzIiwiaG91cnMiLCJ0aW1lIiwiZm9yZWNhc3RMaXN0IiwiaSIsImZvcmVjYXN0SXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJmb3JlY2FzdFRpbWUiLCJjZWlsIiwiZm9yZWNhc3RJY29uIiwiZm9yZWNhc3RJY29uSW1nIiwiYXBwZW5kIiwiZm9yZWNhc3RUZW1wIiwidXBkYXRlSG91cmx5Rm9yZWNhc3QiLCJ1diIsImdldERhaWx5Rm9yZWNhc3REYXRhIiwiZGF5cyIsImRheUZvcmVjYXN0TGlzdCIsImRheUZvcmVjYXN0SXRlbSIsImRheUZvcmVjYXN0RGF5IiwiV0VFS0RBWVMiLCJkYXlGb3JlY2FzdEljb24iLCJkYXlGb3JlY2FzdEljb25JbWciLCJJQ09OU19DT0RFIiwiZGF5Rm9yZWNhc3RUZXh0IiwiZGF5SGlnaGxvdyIsImxvdyIsInVwZGF0ZURhaWx5Rm9yZWNhc3QiLCJjaXR5U2VhcmNoIiwiZ2V0RWxlbWVudEJ5SWQiLCJhdXRvY29tcGxldGVDb250YWluZXIiLCJhdXRvY29tcGxldGVPcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVzZXJJbnB1dCIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJtYXRjaGluZ09wdGlvbnMiLCJmaWx0ZXIiLCJvcHRpb24iLCJpbmNsdWRlcyIsImlubmVySFRNTCIsImZvckVhY2giLCJvcHRpb25FbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiYXBwZW5kQ2hpbGQiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9